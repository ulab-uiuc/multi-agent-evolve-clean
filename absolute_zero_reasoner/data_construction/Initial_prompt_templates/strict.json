{
  "templates": {
    "solver": {
      "base_template": "## Task: Generate a High-Quality Response to a Given Task\n\nYou will be given a cognitive, creative, logical、mathematical、or planning-related task. Your job is to generate a complete, high-quality response that satisfies the task’s constraints and demonstrates clear, structured reasoning or creativity.\n\n### Instructions:\n- Carefully read and understand the task.\n- Think step by step — break down the task, simulate it mentally if needed, and reason through constraints.\n- Then directly write your final response (no need to restate or reformat the task).\n- Do **not** separate your answer into sections like \"task\", \"think\", or \"response\". Just give your best final answer with your reasoning embedded naturally or implied by structure.\n- Your output should:\n  * Be **correct** or **plausibly optimal**, given the task\n  * **Fulfill all constraints** in the task\n  * Be **clear, structured**, and **non-trivial**\n  * Avoid fluff, vagueness, or randomness\n\n### Good Response Traits:\n- For reasoning tasks: shows logical progression or result\n- For generation tasks: respects the given constraints (style, length, content)\n- For math/logic/planning: includes a final answer that could be evaluated\n- For creative tasks: coherent, original, and well-scaffolded\n",
      "improvements": [],
      "performance_context": "Original template from prompts.py"
    },
    "proposer": {
      "base_template": "## Task: Create a Challenging and Original Task\n\nDesign a new and intellectually demanding task that tests **complex reasoning, creative thinking, structured planning, or deep understanding**. The task should be suitable for evaluation in general intelligence, reasoning benchmarks, instruction following, or alignment assessments.\n\nYou may design a task that resembles a quiz, puzzle, constrained writing, or symbolic reasoning prompt. Focus on structure, challenge, and clarity — not trivia or stylistic flair.\n\nThis prompt is intended to help construct the **task itself**, not example answers or input/output.\n\n---\n\n### Task Requirements:\n\n- The task must be:\n  * **Self-contained** and clearly described\n  * **Non-trivial**, requiring multiple reasoning steps, constraints, or synthesis\n  * **Deterministic** or tightly constrained (even if open-ended in form)\n  * **Free from cultural bias, real-time information, or factual recall**\n\n- Accepted Domains include:\n  * Logic puzzles, paradoxes, analogical reasoning\n  * Pattern-based math or symbolic challenges\n  * Spatial planning or constraint problems\n  * Structured or constrained writing\n  * Agent-based planning, recursive state modeling\n  * Instruction following with internal traps\n\n- Avoid:\n  * Trivia questions or subjective writing\n  * Ambiguous or taste-based open-ended prompts\n  * Any dependency on web access or recent knowledge\n  * Tasks with no clear solvability path\n\n---\n\n\nIMPORTANT: After generating each question, you must immediately provide a complete answer to verify it's solvable.\n\nFollow this iterative format:\n<question>\n[Your generated question here]\n</question>\n\n<answer>\n[Your complete solution to the question - show all steps and reasoning]\n</answer>\n\nAfter providing the answer, think: Is this question clear, solvable, and appropriately challenging? If not, generate a new question-answer pair using the same format.\n\nContinue this process until you have a well-formed, solvable question. The final output should contain your best question-answer pair.\n\nMAKE SURE THAT YOUR FINAL QUESTION IS INSIDE A <question></question> TAG! THE LAST QUESTION OF THIS PATTERN WILL BE EXTRACTED AS YOUR FINAL QUESTION!\n\nMake sure your final question is:\n- Clear and unambiguous\n- Solvable with the information provided\n- Appropriately challenging for the domain\n- Complete (not missing any necessary information)\n\nYour answer should demonstrate that the question is indeed solvable by providing a complete solution.",
      "improvements": [],
      "performance_context": "Enhanced template with question-answer verification"
    },
    "judge_answer": {
      "base_template": "Please evaluate the following solution to a question/problem with a STRICT rubric.\n\nQuestion/Problem: {question}\n\nGenerated Solution: {answer}\n\nFirst, analyze the solution in the <think> and </think> tags below:\n\n<think>\nSTRICT RUBRIC (Answer):\n- Factual correctness is mandatory. ANY factual error (including arithmetic mistakes, violated common sense, wrong units, invalid assumptions, or faulty reasoning steps) => final score MUST be in [1,3].\n- Meaningless or excessive repetition, rambling, or filler content => final score MUST be in [1,3].\n- Hallucinated references, fabricated data, unsupported claims, or contradictions => final score MUST be in [1,3].\n- Format & cleanliness: If the answer violates required format (missing fields/tags, not following instructions, messy structure) => score <= 7 even if content is otherwise correct.\n- Completeness & directness: The answer must fully address the asked question. Missing key steps, incomplete derivations, or only partially addressing the prompt => score in [4,7] unless there are factual errors (then [1,3]).\n- Only answers that are entirely correct, follow instructions, are concise (no redundant repetition), and are format-clean may receive [8,10].\n\n[Write your detailed analysis here: identify any factual errors, repetition, format issues. If ANY such issue exists, note that the score band must be [1,3]. If none, justify why it qualifies for 8–10; otherwise place it in 4–7.]\n</think>\n\nThen provide a score from 1 to 10 between <score> and </score> where (STRICT):\n- 8–10: Flawless or near-flawless: entirely correct; no factual/logic/common-sense/calculation errors; concise with no meaningless repetition; follows required format exactly; fully answers the question.\n- 4–7: Generally on-topic and partially correct, but has omissions, minor format issues, or clarity problems (NO factual errors). Any format problem caps at 7.\n- 1–3: ANY factual/logic/common-sense/calculation error OR hallucination OR large meaningless repetition OR severe irrelevance.\n\n<score>X</score> (where X is an integer from 1 to 10)\n",
      "improvements": [],
      "performance_context": "Original judge template from reward_managers.py (answer type)"
    },
    "judge_question": {
      "base_template": "Please evaluate the quality of the following question generation with a STRICT rubric.\n\nQuestion: {question}\n\nFirst, analyze the question in the <think> tags below:\n\n<think>\nSTRICT RUBRIC (Question):\n- If the question is unsolvable as stated (insufficient information, internal contradiction, presupposition failure), violates common sense, or is logically incoherent => final score MUST be in [1,3].\n- If the question is unsafe/inappropriate, irrelevant to the intended domain, or not actually a question => final score MUST be in [1,3].\n- Clarity & completeness: ambiguous wording, missing constraints, or unclear objectives => typically [4,7] (unless it’s unsolvable/incoherent, then [1,3]).\n- Only questions that are fully clear, well-formed, logically sound, feasible/solvable, relevant, and concise (no redundant repetition) may receive [8,10].\n\n[Write your detailed analysis here: check solvability, logical soundness, clarity, relevance, and redundancy. If ANY unsolvability or commonsense violation exists, score must be [1,3].]\n</think>\n\nThen provide a score from 1 to 10 between <score> and </score> where (STRICT):\n- 8–10: Perfectly clear, feasible, self-contained, logically sound, and concise; appropriate and relevant.\n- 4–7: Generally reasonable but with notable ambiguity, missing details, or minor issues (NO unsolvability/commonsense violations).\n- 1–3: Unsolvable/contradictory/commonsense-violating/unsafe/irrelevant/not a valid question.\n\n<score>X</score> (where X is an integer from 1 to 10)\n",
      "improvements": [],
      "performance_context": "Original judge template from reward_managers.py (question type)"
    },
    "judge_together": {
      "base_template": "Please evaluate the quality of the following question and answer pair with a STRICT rubric.\n\nQuestion: {question}\n\nProvided Answer: {answer}\n\nFirst, analyze the question in the <think> tags below:\n\n<think>\nSTRICT RUBRIC (Question):\n- If the question is unsolvable as stated, contains contradictions, presupposition failures, or violates common sense => score MUST be in [1,3].\n- If unsafe/inappropriate/irrelevant/not a valid question => [1,3].\n- Ambiguity or missing constraints without making it unsolvable => [4,7].\n- Only fully clear, feasible, logically sound, relevant, and concise questions may receive [8,10].\n\n[Write your detailed analysis here.]\n</think>\n\nThen provide a score from 1 to 10 between <score> and </score> for the question where (STRICT):\n- 8–10: Clear, feasible, self-contained, logically sound, concise, and relevant.\n- 4–7: Reasonable but with notable ambiguity/missing details (NO unsolvability/commonsense violations).\n- 1–3: Unsolvable/contradictory/commonsense-violating/unsafe/irrelevant/not a valid question.\n\n<score>X</score>\n\nThen analyze the answer in the <think> and </think> tags below:\n\n<think>\nSTRICT RUBRIC (Answer):\n- ANY factual/logic/common-sense/calculation error => final score MUST be in [1,3].\n- Meaningless or excessive repetition/rambling/filler => final score MUST be in [1,3].\n- Hallucinations, fabricated data, unsupported claims, or contradictions => final score MUST be in [1,3].\n- Format & cleanliness: If the answer violates required format or is sloppy => score <= 7 even if otherwise correct.\n- Completeness: Missing key steps or only partially addressing the question => [4,7] unless errors force [1,3].\n- Only entirely correct, concise (no redundant repetition), instruction-following, and format-clean answers may receive [8,10].\n\n[Write your detailed analysis here.]\n</think>\n\nFinally provide a score from 1 to 10 between <score> and </score> for the answer where (STRICT):\n- 8–10: Entirely correct; no factual/logic/common-sense/calculation errors; concise; format-clean; fully addresses the question.\n- 4–7: On-topic and mostly correct but with omissions or minor format/clarity issues (NO factual errors). Any format problem caps at 7.\n- 1–3: ANY factual/logic/common-sense/calculation error OR hallucination OR heavy meaningless repetition OR severe irrelevance.\n\n<score>X</score>\n\nPlease make sure that your response contains only two pairs of <score> and </score> tags, one for the question and one for the answer. The question score always comes first, followed by the answer score.\n\nWhen you reference your own scores, you do not use the <score> and </score> tags. You only use these tags to provide the final scores for the question and answer.\n",
      "improvements": [],
      "performance_context": "Original judge template from reward_managers.py (together type)"
    },
    "judge": {
      "base_template": "Please evaluate the following solution to a question/problem with a STRICT rubric.\n\nQuestion/Problem: {question}\n\nGenerated Solution: {answer}\n\nFirst, analyze the solution in the <think> and </think> tags below:\n\n<think>\nSTRICT RUBRIC (Answer):\n- Factual correctness is mandatory. ANY factual error (including arithmetic mistakes, violated common sense, wrong units, invalid assumptions, or faulty reasoning steps) => final score MUST be in [1,3].\n- Meaningless or excessive repetition, rambling, or filler content => final score MUST be in [1,3].\n- Hallucinated references, fabricated data, unsupported claims, or contradictions => final score MUST be in [1,3].\n- Format & cleanliness: If the answer violates required format (missing fields/tags, not following instructions, messy structure) => score <= 7 even if content is otherwise correct.\n- Completeness & directness: The answer must fully address the asked question. Missing key steps, incomplete derivations, or only partially addressing the prompt => score in [4,7] unless there are factual errors (then [1,3]).\n- Only answers that are entirely correct, follow instructions, are concise (no redundant repetition), and are format-clean may receive [8,10].\n\n[Write your detailed analysis here: identify any factual errors, repetition, format issues. If ANY such issue exists, note that the score band must be [1,3]. If none, justify why it qualifies for 8–10; otherwise place it in 4–7.]\n</think>\n\nThen provide a score from 1 to 10 between <score> and </score> where (STRICT):\n- 8–10: Flawless or near-flawless: entirely correct; no factual/logic/common-sense/calculation errors; concise with no meaningless repetition; follows required format exactly; fully answers the question.\n- 4–7: Generally on-topic and partially correct, but has omissions, minor format issues, or clarity problems (NO factual errors). Any format problem caps at 7.\n- 1–3: ANY factual/logic/common-sense/calculation error OR hallucination OR large meaningless repetition OR severe irrelevance.\n\n<score>X</score> (where X is an integer from 1 to 10)\n",
      "improvements": [],
      "performance_context": "Alias to answer-type judge template"
    }
  }
}
